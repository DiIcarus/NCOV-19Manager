{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HSONNL\\\\Desktop\\\\myProject\\\\NCOV-19\\\\Repo\\\\NCOV-19Manager\\\\client\\\\src\\\\component\\\\GoogleMapReact\\\\index.tsx\";\nimport React, { Component } from \"react\";\nimport OlMap from \"ol/Map\";\nimport OlView from \"ol/View\";\nimport { OSM, Vector as VectorSource } from 'ol/source';\nimport { Tile as TileLayer, Vector as VectorLayer } from 'ol/layer';\nimport { Draw, Snap } from 'ol/interaction';\nimport { Point } from 'ol/geom';\nimport { Icon, Style } from 'ol/style';\nimport GeometryType from \"ol/geom/GeometryType\";\nimport { Feature } from \"ol\";\nimport IconAnchorUnits from \"ol/style/IconAnchorUnits\";\nimport { fromLonLat } from 'ol/proj';\nconst initState = {\n  center: fromLonLat([106.79666, 10.84811]),\n  zoom: 15,\n  feature: [],\n  olmap: new OlMap({\n    target: undefined,\n    layers: [new TileLayer({\n      source: new OSM()\n    }), new VectorLayer({\n      source: new VectorSource({\n        features: [new Feature(new Point([106.79663935413441, 10.84811849654838])), new Feature(new Point([100123, 10600]))]\n      }),\n      style: new Style({\n        image: new Icon({\n          anchor: [0.5, 46],\n          anchorXUnits: IconAnchorUnits.FRACTION,\n          anchorYUnits: IconAnchorUnits.PIXELS,\n          opacity: 0.95,\n          src: 'https://img.icons8.com/color/search'\n        })\n      })\n    })],\n    view: new OlView({\n      center: [0, 0],\n      zoom: 1\n    })\n  })\n};\n\nclass MyComponents extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = initState;\n    this.raster = new TileLayer({\n      source: new OSM()\n    });\n    this.olmap = new OlMap({\n      target: undefined,\n      layers: [this.raster, new VectorLayer({\n        source: new VectorSource({\n          // features: this.props.listPoint.map((value)=>(new Feature(new Point(fromLonLat([+value.x,+value.y]))))),\n          features: [new Feature(new Point(this.state.center))]\n        }),\n        style: new Style({\n          image: new Icon({\n            anchor: [0.5, 46],\n            anchorXUnits: IconAnchorUnits.FRACTION,\n            anchorYUnits: IconAnchorUnits.PIXELS,\n            opacity: 0.95,\n            src: 'https://img.icons8.com/color/search'\n          })\n        })\n      })],\n      view: new OlView({\n        center: this.state.center,\n        zoom: this.state.zoom\n      }) // interactions: \n\n    });\n    this.draw = new Draw({\n      source: new VectorSource({\n        features: this.props.listPoint.map(value => new Feature(new Point(fromLonLat([+value.x, +value.y]))))\n      }),\n      type: GeometryType.POINT\n    });\n    this.snap = new Snap();\n\n    this.setOLMAP = () => {\n      // this.olmap.addLayer()\n      // this.olmap.setTarget(\"map\");\n      // this.olmap.removeInteraction(this.draw);\n      // this.olmap.removeInteraction(this.snap);\n      // this.draw = new Draw({\n      //   source: new VectorSource({\n      //         features: this.props.listPoint.map((value)=>(new Feature(new Point(fromLonLat([+value.x,+value.y]))))),\n      //       }),\n      //   type: GeometryType.POINT\n      // });\n      this.olmap.set('layers', [this.raster, new VectorLayer({\n        source: new VectorSource({\n          features: this.props.listPoint.map(value => new Feature(new Point(fromLonLat([+value.x, +value.y]))))\n        }),\n        style: new Style({\n          image: new Icon({\n            anchor: [0.5, 46],\n            anchorXUnits: IconAnchorUnits.FRACTION,\n            anchorYUnits: IconAnchorUnits.PIXELS,\n            opacity: 0.95,\n            src: 'https://img.icons8.com/color/search'\n          })\n        })\n      })], false); // this.olmap.addInteraction(this.draw);\n      // this.snap = new Snap({source: new VectorSource()});\n      // this.olmap.addInteraction(this.snap);\n      // this.state.olmap.setProperties({\n      //   layers: [this.raster,\n      //     new VectorLayer({\n      //       source: new VectorSource({\n      //         features: this.props.listPoint.map((value)=>(new Feature(new Point(fromLonLat([+value.x,+value.y]))))),\n      //       }),\n      //       style: new Style({\n      //         image: new Icon({\n      //           anchor: [0.5, 46],\n      //           anchorXUnits: IconAnchorUnits.FRACTION,\n      //           anchorYUnits: IconAnchorUnits.PIXELS,\n      //           opacity: 0.95,\n      //           src: 'https://img.icons8.com/color/search'\n      //         }),\n      //       })\n      //     })\n      //   ],\n      // })\n      // new OlMap({\n      //   target: undefined,\n      //   layers: [this.raster,\n      //     new VectorLayer({\n      //       source: new VectorSource({\n      //         features: this.props.listPoint.map((value)=>(new Feature(new Point(fromLonLat([+value.x,+value.y]))))),\n      //       }),\n      //       style: new Style({\n      //         image: new Icon({\n      //           anchor: [0.5, 46],\n      //           anchorXUnits: IconAnchorUnits.FRACTION,\n      //           anchorYUnits: IconAnchorUnits.PIXELS,\n      //           opacity: 0.95,\n      //           src: 'https://img.icons8.com/color/search'\n      //         }),\n      //       })\n      //     })\n      //   ],\n      //   view: new OlView({\n      //     center: this.state.center,\n      //     zoom: this.state.zoom\n      //   })\n      // })\n\n      console.log(\"MOUNT\"); // this.olmap.add(set)\n      // this.olmap.getLayers().setSource(new VectorSource({\n      //       features: this.props.listPoint.map((value)=>(new Feature(new Point([+value.x,+value.y]))))}))\n      // (new Draw({\n      //   source: new VectorSource({\n      //       features: this.props.listPoint.map((value)=>(new Feature(new Point([+value.x,+value.y])))),\n      //   }),\n      // style: new Style({\n      //   image: new Icon({\n      //     anchor: [0.5, 46],\n      //     anchorXUnits: IconAnchorUnits.FRACTION,\n      //     anchorYUnits: IconAnchorUnits.PIXELS,\n      //     opacity: 0.95,\n      //     src: 'https://img.icons8.com/color/search'\n      //   }),\n      // }),\n      // type: GeometryType.POINT\n      // }));\n    };\n  }\n\n  // vector:VectorLayer = new VectorLayer();\n  // reload() {\n  //   let vectorSource = new VectorSource({\n  //     features: this.props.listPoint.map((value)=>(new Feature(new Point(fromLonLat([+value.x,+value.y])))))\n  //   })\n  //   let newLayer = new VectorLayer({\n  //     source: vectorSource\n  //   });\n  //   this.olmap.addLayer(newLayer);\n  //   vectorSource.once('change', ()=> {\n  //     console.log('remove')\n  //     if (this.vector) {\n  //       this.olmap.removeLayer(this.vector);\n  //     }\n  //     this.vector = newLayer;\n  //   });\n  // }\n  componentDidMount() {\n    this.olmap.setTarget(\"map\");\n    setInterval(() => {\n      this.reload();\n      console.log(\"reload\", this.props.listPoint); //   let map = this.state.olmap;\n      //   map.setProperties({\n      //     layers: [this.raster,\n      //       new VectorLayer({\n      //         source: new VectorSource({\n      //           features: this.props.listPoint.map((value)=>(new Feature(new Point(fromLonLat([+value.x,+value.y]))))),\n      //         }),\n      //         style: new Style({\n      //           image: new Icon({\n      //             anchor: [0.5, 46],\n      //             anchorXUnits: IconAnchorUnits.FRACTION,\n      //             anchorYUnits: IconAnchorUnits.PIXELS,\n      //             opacity: 0.95,\n      //             src: 'https://img.icons8.com/color/search'\n      //           }),\n      //         })\n      //       })\n      //     ],\n      //   })\n      //   this.setState({\n      //     olmap:map\n      //   })\n    }, 2000);\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, this.setOLMAP(), React.createElement(\"div\", {\n      id: \"map\",\n      style: {\n        position: \"relative\",\n        width: \"100%\",\n        height: \"90%\",\n        borderRadius: \"5rem\",\n        margin: \"2rem 0rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default MyComponents;","map":{"version":3,"sources":["C:/Users/HSONNL/Desktop/myProject/NCOV-19/Repo/NCOV-19Manager/client/src/component/GoogleMapReact/index.tsx"],"names":["React","Component","OlMap","OlView","OSM","Vector","VectorSource","Tile","TileLayer","VectorLayer","Draw","Snap","Point","Icon","Style","GeometryType","Feature","IconAnchorUnits","fromLonLat","initState","center","zoom","feature","olmap","target","undefined","layers","source","features","style","image","anchor","anchorXUnits","FRACTION","anchorYUnits","PIXELS","opacity","src","view","MyComponents","state","raster","draw","props","listPoint","map","value","x","y","type","POINT","snap","setOLMAP","set","console","log","componentDidMount","setTarget","setInterval","reload","render","position","width","height","borderRadius","margin"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport OlMap from \"ol/Map\";\r\nimport OlView from \"ol/View\";\r\nimport OlLayerTile from \"ol/layer/Tile\";\r\nimport OlSourceOSM from \"ol/source/OSM\";\r\nimport {OSM, Vector as VectorSource} from 'ol/source';\r\nimport {Tile as TileLayer, Vector as VectorLayer} from 'ol/layer';\r\nimport {Draw,Snap} from 'ol/interaction';\r\nimport {LineString, Point, Polygon} from 'ol/geom';\r\nimport {Fill, Icon, Stroke, Style, Circle,} from 'ol/style';\r\nimport GeometryType from \"ol/geom/GeometryType\";\r\nimport ol, { Feature } from \"ol\";\r\nimport IconAnchorUnits from \"ol/style/IconAnchorUnits\";\r\nimport {fromLonLat} from 'ol/proj';\r\nimport LayerGroup from 'ol/layer/Group';\r\nimport Collection from 'ol/Collection';\r\ntype State = typeof initState;\r\nconst initState = {\r\n  center: fromLonLat([106.79666,10.84811]),\r\n  zoom: 15,\r\n  feature: [] as Feature<Point>[],\r\n  olmap: new OlMap({\r\n      target: undefined,\r\n      layers: [new TileLayer({source: new OSM()}),\r\n        new VectorLayer({\r\n          source: new VectorSource({\r\n            features: [new Feature(new Point([106.79663935413441,10.84811849654838])),new Feature(new Point([100123,10600]))],\r\n          }),\r\n          style: new Style({\r\n            image: new Icon({\r\n              anchor: [0.5, 46],\r\n              anchorXUnits: IconAnchorUnits.FRACTION,\r\n              anchorYUnits: IconAnchorUnits.PIXELS,\r\n              opacity: 0.95,\r\n              src: 'https://img.icons8.com/color/search'\r\n            }),\r\n          })\r\n        })\r\n      ],\r\n      view: new OlView({\r\n        center: [0,0],\r\n        zoom: 1\r\n      }),\r\n  })\r\n}\r\n\r\ninterface Location{\r\n  x:number,\r\n  y:number\r\n}\r\ninterface Props{\r\n  listPoint:Location[]\r\n}\r\nclass MyComponents extends Component<Props,State> {\r\n  state = initState;\r\n  raster = new TileLayer({\r\n    source: new OSM()\r\n  });\r\n\r\n  // source = new VectorSource({wrapX: false});\r\n  // vector = new VectorLayer({\r\n  //   source: this.source\r\n  // });\r\n  \r\n  olmap:OlMap = new OlMap({\r\n      target: undefined,\r\n      layers: [this.raster,\r\n        new VectorLayer({\r\n          source: new VectorSource({\r\n            // features: this.props.listPoint.map((value)=>(new Feature(new Point(fromLonLat([+value.x,+value.y]))))),\r\n            features: [new Feature(new Point((this.state.center)))]\r\n          }),\r\n          style: new Style({\r\n            image: new Icon({\r\n              anchor: [0.5, 46],\r\n              anchorXUnits: IconAnchorUnits.FRACTION,\r\n              anchorYUnits: IconAnchorUnits.PIXELS,\r\n              opacity: 0.95,\r\n              src: 'https://img.icons8.com/color/search'\r\n            }),\r\n          })\r\n        })\r\n      ],\r\n      view: new OlView({\r\n        center: this.state.center,\r\n        zoom: this.state.zoom\r\n      }),\r\n      // interactions: \r\n  })\r\n\r\n  // vector:VectorLayer = new VectorLayer();\r\n  // reload() {\r\n  //   let vectorSource = new VectorSource({\r\n  //     features: this.props.listPoint.map((value)=>(new Feature(new Point(fromLonLat([+value.x,+value.y])))))\r\n  //   })\r\n\r\n  //   let newLayer = new VectorLayer({\r\n  //     source: vectorSource\r\n  //   });\r\n  //   this.olmap.addLayer(newLayer);\r\n  //   vectorSource.once('change', ()=> {\r\n  //     console.log('remove')\r\n  //     if (this.vector) {\r\n  //       this.olmap.removeLayer(this.vector);\r\n  //     }\r\n  //     this.vector = newLayer;\r\n  //   });\r\n  // }\r\n  \r\n  componentDidMount() {\r\n    this.olmap.setTarget(\"map\");\r\n    \r\n    setInterval(()=>{this.reload();console.log(\"reload\",this.props.listPoint);\r\n    //   let map = this.state.olmap;\r\n    //   map.setProperties({\r\n    //     layers: [this.raster,\r\n    //       new VectorLayer({\r\n    //         source: new VectorSource({\r\n    //           features: this.props.listPoint.map((value)=>(new Feature(new Point(fromLonLat([+value.x,+value.y]))))),\r\n    //         }),\r\n    //         style: new Style({\r\n    //           image: new Icon({\r\n    //             anchor: [0.5, 46],\r\n    //             anchorXUnits: IconAnchorUnits.FRACTION,\r\n    //             anchorYUnits: IconAnchorUnits.PIXELS,\r\n    //             opacity: 0.95,\r\n    //             src: 'https://img.icons8.com/color/search'\r\n    //           }),\r\n    //         })\r\n    //       })\r\n    //     ],\r\n    //   })\r\n    //   this.setState({\r\n    //     olmap:map\r\n    //   })\r\n    },2000)\r\n  }\r\n\r\n  draw:Draw = new Draw({\r\n    source:new VectorSource({\r\n            features: this.props.listPoint.map((value)=>(new Feature(new Point(fromLonLat([+value.x,+value.y]))))),\r\n          }),\r\n      type: GeometryType.POINT\r\n  });\r\n  snap = new Snap();\r\n  setOLMAP = () =>{\r\n    // this.olmap.addLayer()\r\n    // this.olmap.setTarget(\"map\");\r\n    // this.olmap.removeInteraction(this.draw);\r\n    // this.olmap.removeInteraction(this.snap);\r\n\r\n    // this.draw = new Draw({\r\n    //   source: new VectorSource({\r\n    //         features: this.props.listPoint.map((value)=>(new Feature(new Point(fromLonLat([+value.x,+value.y]))))),\r\n    //       }),\r\n    //   type: GeometryType.POINT\r\n    // });\r\n    this.olmap.set('layers',[this.raster,\r\n        new VectorLayer({\r\n          source: new VectorSource({\r\n            features: this.props.listPoint.map((value)=>(new Feature(new Point(fromLonLat([+value.x,+value.y]))))),\r\n          }),\r\n          style: new Style({\r\n            image: new Icon({\r\n              anchor: [0.5, 46],\r\n              anchorXUnits: IconAnchorUnits.FRACTION,\r\n              anchorYUnits: IconAnchorUnits.PIXELS,\r\n              opacity: 0.95,\r\n              src: 'https://img.icons8.com/color/search'\r\n            }),\r\n          })\r\n        })\r\n      ],false\r\n    )\r\n    // this.olmap.addInteraction(this.draw);\r\n    // this.snap = new Snap({source: new VectorSource()});\r\n\r\n    // this.olmap.addInteraction(this.snap);\r\n    // this.state.olmap.setProperties({\r\n    //   layers: [this.raster,\r\n    //     new VectorLayer({\r\n    //       source: new VectorSource({\r\n    //         features: this.props.listPoint.map((value)=>(new Feature(new Point(fromLonLat([+value.x,+value.y]))))),\r\n    //       }),\r\n    //       style: new Style({\r\n    //         image: new Icon({\r\n    //           anchor: [0.5, 46],\r\n    //           anchorXUnits: IconAnchorUnits.FRACTION,\r\n    //           anchorYUnits: IconAnchorUnits.PIXELS,\r\n    //           opacity: 0.95,\r\n    //           src: 'https://img.icons8.com/color/search'\r\n    //         }),\r\n    //       })\r\n    //     })\r\n    //   ],\r\n    // })\r\n\r\n    // new OlMap({\r\n    //   target: undefined,\r\n    //   layers: [this.raster,\r\n    //     new VectorLayer({\r\n    //       source: new VectorSource({\r\n    //         features: this.props.listPoint.map((value)=>(new Feature(new Point(fromLonLat([+value.x,+value.y]))))),\r\n    //       }),\r\n    //       style: new Style({\r\n    //         image: new Icon({\r\n    //           anchor: [0.5, 46],\r\n    //           anchorXUnits: IconAnchorUnits.FRACTION,\r\n    //           anchorYUnits: IconAnchorUnits.PIXELS,\r\n    //           opacity: 0.95,\r\n    //           src: 'https://img.icons8.com/color/search'\r\n    //         }),\r\n    //       })\r\n    //     })\r\n    //   ],\r\n    //   view: new OlView({\r\n    //     center: this.state.center,\r\n    //     zoom: this.state.zoom\r\n    //   })\r\n    // })\r\n    console.log(\"MOUNT\")\r\n    // this.olmap.add(set)\r\n    // this.olmap.getLayers().setSource(new VectorSource({\r\n    //       features: this.props.listPoint.map((value)=>(new Feature(new Point([+value.x,+value.y]))))}))\r\n    // (new Draw({\r\n    //   source: new VectorSource({\r\n    //       features: this.props.listPoint.map((value)=>(new Feature(new Point([+value.x,+value.y])))),\r\n    //   }),\r\n      // style: new Style({\r\n      //   image: new Icon({\r\n      //     anchor: [0.5, 46],\r\n      //     anchorXUnits: IconAnchorUnits.FRACTION,\r\n      //     anchorYUnits: IconAnchorUnits.PIXELS,\r\n      //     opacity: 0.95,\r\n      //     src: 'https://img.icons8.com/color/search'\r\n      //   }),\r\n      // }),\r\n      // type: GeometryType.POINT\r\n    // }));\r\n  }\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        {this.setOLMAP()}\r\n        <div id=\"map\" style={{position:\"relative\", width: \"100%\", height: \"90%\", borderRadius: \"5rem\", margin: \"2rem 0rem\"}}></div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyComponents;"]},"metadata":{},"sourceType":"module"}