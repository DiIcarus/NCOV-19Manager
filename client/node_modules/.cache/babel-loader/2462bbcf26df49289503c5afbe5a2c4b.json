{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HSONNL\\\\Desktop\\\\myProject\\\\NCOV-19\\\\Repo\\\\NCOV-19Manager\\\\client\\\\src\\\\component\\\\FormSignIn\\\\index.tsx\";\nimport React, { Component } from \"react\"; //style importer\n\nimport * as s__ from \"./style\";\n//module importer\nimport UserAPI from \"../../modules/api/user\";\nimport DoctorAPI from \"../../modules/api/doctor\"; //component importer\n//utils importer\n//global store\n////init\n\nimport { connect } from \"react-redux\";\n//action importer\nimport { setIdentityCardSignIn, setPasswordSignIn, setDisplaySignIn } from \"../../store/SignInForm/action\";\nimport { setAddressUserssigned, setAvatarUserssigned, setDateofbirthUserssigned, setFullnameUserssigned, setGPS, setGenderUserssigned, setIdRoveUserssigned, setIdUserssigned, setIdentityCardUserssigned, setIsActiveUserssigned, setPasswordUserssigned, setPhonenumberUserssigned, setTokenUserssigned, setVUserssigned, setmailUserssigned } from \"../../store/UsersSigned/action\";\nimport { setTokenUsers } from \"../../store/User/action\";\n\nclass FormSignIn extends Component {\n  constructor(...args) {\n    super(...args);\n    this.usersModule = new UserAPI();\n    this.module = new DoctorAPI();\n\n    this.componentDidMount = () => {\n      setInterval(() => {\n        console.log(this.props.UserssignedState);\n      }, 1000);\n      console.log(this.props.UserssignedState);\n    };\n\n    this.formCancel = () => {\n      this.props.setDisplaySignIn(false);\n    };\n\n    this.redirectRegister = () => {\n      this.formCancel();\n    };\n\n    this.identityChange = event => {\n      this.props.setIdentityCardSignIn(event.target.value);\n    };\n\n    this.passwordChange = event => {\n      this.props.setPasswordSignIn(event.target.value);\n    };\n\n    this.signIn = () => {\n      const formData = new FormData();\n      formData.append(\"identityCard\", this.props.SignInState.identityCard);\n      formData.append(\"password\", this.props.SignInState.password);\n      let token = '';\n      this.module.userLogin(formData, res => {\n        console.log(res); //set users token\n\n        this.props.setTokenUsers(res.data.token);\n        this.props.setTokenUserssigned(res.data.token);\n        window.sessionStorage.accessToken = res.data.token;\n        this.usersModule.getProfile(res.data.token, res => {\n          console.log(res.data.user);\n          this.props.setDisplaySignIn(true);\n          this.props.setAvatarUserssigned(res.data.user.avatars);\n          this.props.setAddressUserssigned(res.data.user.address);\n          this.props.setGenderUserssigned(res.data.user.gender);\n          this.props.setIsActiveUserssigned(res.data.user.isActive);\n          this.props.setGPS(res.data.user.gps);\n          this.props.setIdUserssigned(res.data.user._id);\n          this.props.setPasswordUserssigned(res.data.user.password);\n          this.props.setPhonenumberUserssigned(res.data.user.phoneNumber);\n          this.props.setIdentityCardUserssigned(res.data.user.identityCard);\n          this.props.setFullnameUserssigned(res.data.user.fullName);\n          this.props.setmailUserssigned(res.data.user.email);\n          this.props.setIdRoveUserssigned(res.data.user.idRole);\n          this.props.setVUserssigned(res.data.user.__v);\n          this.props.setDateofbirthUserssigned(res.data.user.dateOfBirth);\n          localStorage.setItem('UsersInfo', JSON.stringify(res.data.user));\n          window.sessionStorage.setItem('UsersInfo', JSON.stringify(res.data.user));\n        }, err => {\n          console.log(err);\n        });\n      }, err => {\n        console.log(err);\n      });\n    };\n\n    this.formSigninDemo = () => {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(s__.SignInArea, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(s__.TextFieldArea, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(s__.TextInput, {\n        variant: \"outlined\",\n        required: true,\n        id: \"CMND\",\n        label: \"CMND\",\n        name: \"CMND\",\n        autoComplete: \"CMND\",\n        value: this.props.SignInState.identityCard,\n        onChange: this.identityChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      })), React.createElement(s__.TextFieldArea, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(s__.TextInput, {\n        variant: \"outlined\",\n        required: true,\n        name: \"password\",\n        label: \"Password\",\n        type: \"password\",\n        id: \"password\",\n        autoComplete: \"current-password\",\n        value: this.props.SignInState.password,\n        onChange: this.passwordChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      })), React.createElement(s__.ButtonSignIn, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.signIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"Sign In\"), React.createElement(s__.LinkRoute, {\n        to: \"/register\" // onClick={() => this.redirectRegister()}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Register ?\")));\n    };\n\n    this.renderBackground = () => {\n      return React.createElement(s__.Particless, {\n        params: {\n          particles: {\n            number: {\n              value: 50\n            },\n            size: {\n              value: 1.3,\n              anim: {\n                speed: 1,\n                size_min: 0.8\n              }\n            },\n            line_linked: {\n              enable: false,\n              blink: true,\n              width: 1\n            },\n            color: {\n              value: \"#fff\"\n            }\n          },\n          interactivity: {\n            events: {\n              onhover: {\n                enable: true,\n                mode: \"connect\"\n              }\n            },\n            modes: {\n              connect: {\n                distance: 50,\n                radius: 50,\n                lineLinked: {\n                  opacity: 0.2\n                }\n              }\n            }\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(s__.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, this.renderBackground(), React.createElement(s__.Container, {\n      style: {\n        display: this.props.SignInState.display ? \"block\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, this.formSigninDemo()));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  SignInState: state.SignInState,\n  UserssignedState: state.UserssignedState,\n  UsersState: state.UsersState\n});\n\nexport default connect(mapStateToProps, {\n  setIdentityCardSignIn,\n  setPasswordSignIn,\n  setDisplaySignIn,\n  setTokenUsers,\n  setAddressUserssigned,\n  setAvatarUserssigned,\n  setDateofbirthUserssigned,\n  setFullnameUserssigned,\n  setGPS,\n  setGenderUserssigned,\n  setIdRoveUserssigned,\n  setIdUserssigned,\n  setIdentityCardUserssigned,\n  setIsActiveUserssigned,\n  setPasswordUserssigned,\n  setPhonenumberUserssigned,\n  setTokenUserssigned,\n  setVUserssigned,\n  setmailUserssigned\n})(FormSignIn);","map":{"version":3,"sources":["C:/Users/HSONNL/Desktop/myProject/NCOV-19/Repo/NCOV-19Manager/client/src/component/FormSignIn/index.tsx"],"names":["React","Component","s__","UserAPI","DoctorAPI","connect","setIdentityCardSignIn","setPasswordSignIn","setDisplaySignIn","setAddressUserssigned","setAvatarUserssigned","setDateofbirthUserssigned","setFullnameUserssigned","setGPS","setGenderUserssigned","setIdRoveUserssigned","setIdUserssigned","setIdentityCardUserssigned","setIsActiveUserssigned","setPasswordUserssigned","setPhonenumberUserssigned","setTokenUserssigned","setVUserssigned","setmailUserssigned","setTokenUsers","FormSignIn","usersModule","module","componentDidMount","setInterval","console","log","props","UserssignedState","formCancel","redirectRegister","identityChange","event","target","value","passwordChange","signIn","formData","FormData","append","SignInState","identityCard","password","token","userLogin","res","data","window","sessionStorage","accessToken","getProfile","user","avatars","address","gender","isActive","gps","_id","phoneNumber","fullName","email","idRole","__v","dateOfBirth","localStorage","setItem","JSON","stringify","err","formSigninDemo","renderBackground","particles","number","size","anim","speed","size_min","line_linked","enable","blink","width","color","interactivity","events","onhover","mode","modes","distance","radius","lineLinked","opacity","render","display","mapStateToProps","state","UsersState"],"mappings":"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","sourcesContent":["import React, { Component, ChangeEvent } from \"react\";\r\n\r\n//style importer\r\nimport * as s__ from \"./style\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n// import FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nimport { HoverMode } from \"react-particles-js\";\r\n//module importer\r\nimport UserAPI from \"../../modules/api/user\";\r\nimport DoctorAPI from \"../../modules/api/doctor\";\r\n\r\n//component importer\r\n//utils importer\r\n//global store\r\n////init\r\nimport { connect } from \"react-redux\";\r\nimport { MainState } from \"../../store/index\";\r\n//type importer\r\nimport { SignInState } from \"../../store/SignInForm/type\";\r\nimport { UsersState } from \"../../store/User/type\";\r\nimport { UserssignedState } from \"../../store/UsersSigned/type\";\r\n//action importer\r\nimport {\r\n  setIdentityCardSignIn,\r\n  setPasswordSignIn,\r\n  setDisplaySignIn,\r\n} from \"../../store/SignInForm/action\";\r\nimport {\r\n  setAddressUserssigned,\r\n  setAvatarUserssigned,\r\n  setDateofbirthUserssigned,\r\n  setFullnameUserssigned,\r\n  setGPS,\r\n  setGenderUserssigned,\r\n  setIdRoveUserssigned,\r\n  setIdUserssigned,\r\n  setIdentityCardUserssigned,\r\n  setIsActiveUserssigned,\r\n  setPasswordUserssigned,\r\n  setPhonenumberUserssigned,\r\n  setTokenUserssigned,\r\n  setVUserssigned,\r\n  setmailUserssigned,\r\n} from \"../../store/UsersSigned/action\";\r\nimport { setTokenUsers } from \"../../store/User/action\";\r\n\r\ntype Props = {\r\n  SignInState: SignInState,\r\n  setIdentityCardSignIn: typeof setIdentityCardSignIn,\r\n  setPasswordSignIn: typeof setPasswordSignIn,\r\n  setDisplaySignIn: typeof setDisplaySignIn,\r\n  UsersState: UsersState,\r\n  setTokenUsers: typeof setTokenUsers,\r\n  UserssignedState: UserssignedState,\r\n  setAddressUserssigned: typeof setAddressUserssigned,\r\n  setFullnameUserssigned: typeof setFullnameUserssigned,\r\n  setAvatarUserssigned: typeof setAvatarUserssigned,\r\n  setDateofbirthUserssigned: typeof setDateofbirthUserssigned,\r\n  setGenderUserssigned: typeof setGenderUserssigned,\r\n  setGPS: typeof setGPS,\r\n  setIdRoveUserssigned: typeof setIdRoveUserssigned,\r\n  setIdUserssigned: typeof setIdUserssigned,\r\n  setIsActiveUserssigned: typeof setIsActiveUserssigned,\r\n  setPasswordUserssigned: typeof setPasswordUserssigned,\r\n  setPhonenumberUserssigned: typeof setPhonenumberUserssigned,\r\n  setTokenUserssigned: typeof setTokenUserssigned,\r\n  setVUserssigned: typeof setVUserssigned,\r\n  setmailUserssigned: typeof setmailUserssigned,\r\n  setIdentityCardUserssigned: typeof setIdentityCardUserssigned,\r\n};\r\n\r\nclass FormSignIn extends Component<Props, {}> {\r\n  usersModule = new UserAPI();\r\n  module = new DoctorAPI();\r\n\r\n  componentDidMount=()=>{\r\n    setInterval(()=>{\r\n\r\n     console.log(this.props.UserssignedState);\r\n    },1000); \r\n    console.log(this.props.UserssignedState);\r\n }\r\n  formCancel = () => {\r\n    this.props.setDisplaySignIn(false);\r\n  };\r\n\r\n  redirectRegister = () => {\r\n    this.formCancel();\r\n  };\r\n\r\n  identityChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    this.props.setIdentityCardSignIn(event.target.value);\r\n  };\r\n\r\n  passwordChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    this.props.setPasswordSignIn(event.target.value);\r\n  };\r\n\r\n  signIn = () => {\r\n    const formData = new FormData();\r\n    formData.append(\"identityCard\", this.props.SignInState.identityCard);\r\n    formData.append(\"password\", this.props.SignInState.password);\r\n    let token:string = '';\r\n    this.module.userLogin(\r\n      formData,\r\n      (res: any) => {\r\n        console.log(res); //set users token\r\n        this.props.setTokenUsers(res.data.token);\r\n        this.props.setTokenUserssigned(res.data.token);\r\n        window.sessionStorage.accessToken = res.data.token;\r\n        this.usersModule.getProfile(\r\n        res.data.token,\r\n        (res: any) => {\r\n        console.log(res.data.user);\r\n        this.props.setDisplaySignIn(true);\r\n        this.props.setAvatarUserssigned(res.data.user.avatars);\r\n        this.props.setAddressUserssigned(res.data.user.address);\r\n        this.props.setGenderUserssigned(res.data.user.gender);\r\n        this.props.setIsActiveUserssigned(res.data.user.isActive);\r\n        this.props.setGPS(res.data.user.gps);\r\n        this.props.setIdUserssigned(res.data.user._id);\r\n        this.props.setPasswordUserssigned(res.data.user.password);\r\n        this.props.setPhonenumberUserssigned(res.data.user.phoneNumber);\r\n        this.props.setIdentityCardUserssigned(res.data.user.identityCard);\r\n        this.props.setFullnameUserssigned(res.data.user.fullName);\r\n        this.props.setmailUserssigned(res.data.user.email);\r\n        this.props.setIdRoveUserssigned(res.data.user.idRole);\r\n        this.props.setVUserssigned(res.data.user.__v);\r\n        this.props.setDateofbirthUserssigned(res.data.user.dateOfBirth)\r\n        localStorage.setItem('UsersInfo',JSON.stringify(res.data.user));\r\n        window.sessionStorage.setItem('UsersInfo',JSON.stringify(res.data.user));\r\n        },\r\n        (err: any) => {\r\n        console.log(err);\r\n        }\r\n      );    \r\n      },\r\n      (err: any) => {\r\n        console.log(err);\r\n      }\r\n    );\r\n  };\r\n\r\n  formSigninDemo = () => {\r\n    return (\r\n      <React.Fragment>\r\n        {/* <Typography component=\"h1\" variant=\"h5\">\r\n        Sign up\r\n        </Typography> */}\r\n        <s__.SignInArea>\r\n          <s__.TextFieldArea>\r\n            <s__.TextInput\r\n              variant=\"outlined\"\r\n              required\r\n              id=\"CMND\"\r\n              label=\"CMND\"\r\n              name=\"CMND\"\r\n              autoComplete=\"CMND\"\r\n              value={this.props.SignInState.identityCard}\r\n              onChange={this.identityChange}\r\n            /></s__.TextFieldArea>\r\n            <s__.TextFieldArea>\r\n            <s__.TextInput\r\n              variant=\"outlined\"\r\n              required\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              value={this.props.SignInState.password}\r\n              onChange={this.passwordChange}\r\n            /></s__.TextFieldArea>\r\n                <s__.ButtonSignIn\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={this.signIn}\r\n          >\r\n            Sign In\r\n          </s__.ButtonSignIn>\r\n          <s__.LinkRoute\r\n            to=\"/register\"\r\n            // onClick={() => this.redirectRegister()}\r\n          >\r\n            Register ?\r\n          </s__.LinkRoute>\r\n        </s__.SignInArea>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  // formSignin = () => {\r\n  //   return (\r\n  //     <s__.Container\r\n  //       style={{ display: this.props.SignInState.display ? \"block\" : \"none\" }}\r\n  //     >\r\n  //       <s__.TextFieldArea>\r\n  //         <s__.TextInput\r\n  //           variant=\"outlined\"\r\n  //           label=\"CMND\"\r\n  //           type=\"text\"\r\n  //           value={this.props.SignInState.identityCard}\r\n  //           onChange={this.identityChange}\r\n  //         />\r\n  //       </s__.TextFieldArea>\r\n  //       <s__.TextFieldArea>\r\n  //         <s__.TextInput\r\n  //           variant=\"outlined\"\r\n  //           label=\"Password\"\r\n  //           type=\"password\"\r\n  //           value={this.props.SignInState.password}\r\n  //           onChange={this.passwordChange}\r\n  //         />\r\n  //       </s__.TextFieldArea>\r\n  //       <s__.ButtonArea>\r\n  //         <s__.ButtonSignIn\r\n  //           variant=\"outlined\"\r\n  //           color=\"primary\"\r\n  //           size=\"large\"\r\n  //           onClick={this.signIn}\r\n  //         >\r\n  //           Sign-In\r\n  //         </s__.ButtonSignIn>\r\n  //       </s__.ButtonArea>\r\n  //       <s__.LinkRoute to=\"/register\" onClick={() => this.redirectRegister()}>\r\n  //         <s__.ButtonArea>\r\n  //           <s__.ButtonSignIn variant=\"outlined\" color=\"primary\" size=\"large\">\r\n  //             Bạn chưa có tài khoản ?\r\n  //           </s__.ButtonSignIn>\r\n  //         </s__.ButtonArea>\r\n  //       </s__.LinkRoute>\r\n  //       <s__.ButtonArea>\r\n  //         <s__.ButtonSignIn\r\n  //           variant=\"outlined\"\r\n  //           color=\"primary\"\r\n  //           size=\"large\"\r\n  //           onClick={this.formCancel}\r\n  //         >\r\n  //           Cancel\r\n  //         </s__.ButtonSignIn>\r\n  //       </s__.ButtonArea>\r\n  //     </s__.Container>\r\n  //   );\r\n  // };\r\n  renderBackground = () => {\r\n    return (\r\n      <s__.Particless\r\n        params={{\r\n          particles: {\r\n            number: {\r\n              value: 50,\r\n            },\r\n            size: {\r\n              value: 1.3,\r\n              anim: {\r\n                speed: 1,\r\n                size_min: 0.8,\r\n              },\r\n            },\r\n            line_linked: {\r\n              enable: false,\r\n              blink: true,\r\n              width: 1,\r\n            },\r\n            color: {\r\n              value: \"#fff\",\r\n            },\r\n          },\r\n          interactivity: {\r\n            events: {\r\n              onhover: {\r\n                enable: true,\r\n                mode: \"connect\" as HoverMode,\r\n              },\r\n            },\r\n            modes: {\r\n              connect: {\r\n                distance: 50,\r\n                radius: 50,\r\n                lineLinked: {\r\n                  opacity: 0.2,\r\n                },\r\n              },\r\n            },\r\n          },\r\n        }}\r\n      />\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <s__.Footer>\r\n      {this.renderBackground()}\r\n        <s__.Container\r\n          style={{ display: this.props.SignInState.display ? \"block\" : \"none\" }}\r\n        >\r\n          {this.formSigninDemo()}\r\n        </s__.Container>\r\n      </s__.Footer>\r\n        \r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: MainState) => ({\r\n  SignInState: state.SignInState,\r\n  UserssignedState: state.UserssignedState,\r\n  UsersState: state.UsersState,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  setIdentityCardSignIn,\r\n  setPasswordSignIn,\r\n  setDisplaySignIn,\r\n  setTokenUsers,\r\n  setAddressUserssigned,\r\n  setAvatarUserssigned,\r\n  setDateofbirthUserssigned,\r\n  setFullnameUserssigned,\r\n  setGPS,\r\n  setGenderUserssigned,\r\n  setIdRoveUserssigned,\r\n  setIdUserssigned,\r\n  setIdentityCardUserssigned,\r\n  setIsActiveUserssigned,\r\n  setPasswordUserssigned,\r\n  setPhonenumberUserssigned,\r\n  setTokenUserssigned,\r\n  setVUserssigned,\r\n  setmailUserssigned,\r\n})(FormSignIn);\r\n"]},"metadata":{},"sourceType":"module"}